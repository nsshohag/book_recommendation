<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>SignIn and SignUp</title>
        <link rel="stylesheet" type="text/css" href="{{url_for('static',filename='css/style.css')}}">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css" integrity="sha512-SzlrxWUlpfuzQ+pcUCosxcglQRNAq/DZjVsC0lE40xsADsfeQoEypE+enwcOiGjk/bSuGGKHEyjSoQ1zVisanQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    </head>
<body>
    <form id="form">
    <div class="container">
        <div class="form signup">
            <h2>Sign Up</h2>
            <div class="inputBox">
                <input type="text" minlength="3" id="username" required>
                <i class="fa-solid fa-user"></i>
                <span>username</span>
            </div>
            <div class="inputBox">
                <input type="email" id="email" required>
                <i class="fa-solid fa-envelope"></i>
                <span>email address</span>
            </div>
            <div class="inputBox">
                <input type="password" id="password" required minlength="8">
                <i class="fa-solid fa-lock"></i>
                <span>create password</span>
            </div>
            <div class="inputBox">
                <input type="password" id="password_confirm" required minlength="8">
                <i class="fa-solid fa-lock"></i>
                <span>confirm password</span>
            </div>
            <div class="inputBox">
                <input type="submit" value="Create Account" class="create_submit">
            </div>
            <p>Already a member ? <a href="#" class="login">Log in</a></p>
        </div>

    </form>

        <div class="form signin">
            <h2>Sign In</h2>
            <div class="inputBox">
                <input type="text" id="username_login" minlength="3">
                <i class="fa-solid fa-user"></i>
                <span>username</span>
            </div>
            <div class="inputBox">
                <input type="password" id="password_login" minlength="8">
                <i class="fa-solid fa-lock"></i>
                <span>password</span>
            </div>
            <div class="inputBox">
                <input type="button" value="Login" id="btn">
            </div>
            <p>Not Registered ? <a href="#" class="create">Create an account</a></p>

        </div>

    </div>
    <script>
        const form=document.getElementById('form');
        const login=document.querySelector('.login');
        const create=document.querySelector('.create');
        const container=document.querySelector('.container');
        const create_submit=document.querySelector('.create_submit');
        const username=document.querySelector('#username');
        const email=document.getElementById("email");
        const password=document.getElementById('password');
        const password_confirm=document.getElementById('password_confirm');
        const username_login=document.getElementById('username_login');
        const password_login=document.getElementById('password_login');
        const btn=document.getElementById('btn');



        login.onclick= function(){
            container.classList.add('signinForm');
        }
        create.onclick= function(){
            container.classList.remove('signinForm');

        }


        var html_element=document.createElement("p");
        container.appendChild(html_element);
        html_element.style.color="red";

        form.addEventListener('submit',function(e){
            
            // that is the fucking thing that fucked me for hours
            e.preventDefault();

            localStorage.setItem('user-name',username.value);

            if(username.value!="sadat"){
                
                html_element.innerHTML="Invalid username";
            }
            else if(password.value!="11235813")
            {
                
                html_element.innerHTML="Invalid password";
            }

            else if(password.value!=password_confirm.value)
            {
                
                html_element.innerHTML="Password deosn't match";
                
            }
            else
            {
                window.location.assign('feed.html');
            }
            
        });

        btn.onclick = function (){


            if(username_login.value!="sadat"){
                
                html_element.innerHTML="Invalid username";
            }
            else if(password_login.value!="11235813")
            {
                
                html_element.innerHTML="Invalid password";
            }
            else
            {
                window.location.assign('feed.html');
            }
        }


    </script>

</body>

</html>